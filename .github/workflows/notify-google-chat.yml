name: Notify Google Chat for PRs

on:
  pull_request:
    types: [opened, synchronize, reopened]
  workflow_dispatch:

jobs:
  notify:
    runs-on: ubuntu-latest

    steps:
      - name: Debug PR info
        run: |
          echo "Actor: ${{ github.actor }}"
          echo "PR Title: ${{ github.event.pull_request.title }}"
          echo "PR URL: ${{ github.event.pull_request.html_url }}"
          echo "Repo: ${{ github.repository }}"
          echo "Event: ${{ github.event_name }}"

      - name: Notify Google Chat
        uses: google-github-actions/send-google-chat-webhook@v0.0.2
        with:
          webhook_url: ${{ secrets.GOOGLE_CHAT_WEBHOOK_URL }}
          mention: "<users/all>"
